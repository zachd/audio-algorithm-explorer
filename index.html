<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Shazam Algorithm Explained</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="styles/main.css" rel="stylesheet">
</head>
<body>
    <div id="floatingPlayback" class="floating-playback">
        <div id="floatingControls" class="floating-controls">
            <button id="playBtn" class="btn btn-success"><i class="fas fa-play"></i></button>
            <div class="time-display">
                <span id="currentTime">0:00</span> / <span id="totalTime">0:00</span>
            </div>
            <div class="progress">
                <div id="progressBar" class="progress-bar" role="progressbar"></div>
            </div>
        </div>
    </div>
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">Shazam Algorithm</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#history">History</a></li>
                    <li class="nav-item"><a class="nav-link" href="#building-blocks">Building Blocks</a></li>
                    <li class="nav-item"><a class="nav-link" href="#constellation">Constellation</a></li>
                    <li class="nav-item"><a class="nav-link" href="#hashing">Hashing</a></li>
                    <li class="nav-item"><a class="nav-link" href="#matching">Matching</a></li>
                    <li class="nav-item"><a class="nav-link" href="#noise">Noise Handling</a></li>
                    <li class="nav-item"><a class="nav-link" href="#summary">Summary</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="audio-upload-container">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8 text-center">
                    <h2>Upload Your Song</h2>
                    <p>Begin by uploading or selecting a song from our library. This track will be used throughout all interactive diagrams.</p>
                    <input type="file" id="audioUpload" accept="audio/*" class="form-control">
                    <div class="mt-3">
                        <button class="btn btn-primary" id="demoSongBtn">Try Demo Song</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <main class="container">
        <article class="blog-post">
            <h1>The Shazam Algorithm Explained</h1>
            
            <section id="intro">
                <p class="lead">Welcome to our deep-dive into the magic behind Shazam! In this post, we'll peel back the layers of complexity behind how your favorite app identifies songs almost instantly—even in noisy environments.</p>
            </section>

            <section id="history">
                <h2>1. A Brief History of Shazam</h2>
                <p>Shazam was born out of a desire to help music lovers connect with the songs they hear in the real world. Founded in 2000, Shazam set out to solve a challenging problem: how do you quickly and accurately identify a song from a short, possibly noisy snippet recorded on a mobile phone?</p>
                <p>Over the years, Shazam's ingenious algorithm has evolved to handle millions of tracks, robustly match songs even when the audio is distorted or overlaid with background noise, and operate lightning-fast. Its breakthrough approach transformed the way we interact with music—turning a few seconds of recorded audio into the key to a vast digital music library.</p>
                <div class="callout-quote">
                    <p>"At its core, Shazam converts sound into a unique digital fingerprint, enabling quick and reliable song identification even in challenging acoustic environments."</p>
                </div>
            </section>

            <section id="building-blocks" class="interactive-section">
                <h2>2. The Building Blocks: Sound, Frequency, and the FFT</h2>
                
                <h3>2.1. What Is Sound?</h3>
                <p>Sound is a wave—a vibration that travels through a medium (like air). When we record sound, we capture variations in air pressure over time.</p>
                
                <div class="visualization-container">
                    <h3>Audio Waveform</h3>
                    <p>Press play to see a visual representation of the sound wave. The cursor shows the current playback position.</p>
                    <div class="visualization-wrapper">
                        <canvas class="visualization"></canvas>
                    </div>
                </div>

                <h3>2.2. Understanding Frequency and Amplitude</h3>
                <p>Frequency measures how many times a wave oscillates per second and is expressed in Hertz (Hz). In music, different frequencies correspond to different pitches, which is why a violin sounds different from a drum.</p>
                <p>Amplitude is the strength or loudness of the sound wave. It tells us how much energy the wave carries.</p>

                <div class="visualization-container">
                    <h3>Frequency Spectrum (FFT)</h3>
                    <p>This visualization shows the frequency components of the current audio frame.</p>
                    <div class="visualization-wrapper">
                        <canvas class="visualization"></canvas>
                    </div>
                </div>

                <h3>2.3. From Time Domain to Frequency Domain: The Fast Fourier Transform (FFT)</h3>
                <p>The Fast Fourier Transform (FFT) is a mathematical tool that transforms a time-based signal into its frequency components. This allows us to see what frequencies are present in a song at any given moment—an essential step for creating a unique fingerprint of the audio.</p>
            </section>

            <section id="constellation" class="interactive-section">
                <h2>3. Creating a Constellation: Extracting Spectrogram Peaks</h2>
                
                <h3>3.1. What Is a Spectrogram?</h3>
                <p>A spectrogram is like a heat map for sound. The horizontal axis represents time, the vertical axis represents frequency, and the color intensity shows the amplitude of each frequency component.</p>

                <div class="visualization-container">
                    <h3>Spectrogram</h3>
                    <p>A spectrogram shows how frequencies change over time. Adjust the threshold to see different intensity levels.</p>
                    <div class="visualization-wrapper">
                        <canvas class="visualization"></canvas>
                    </div>
                    <div class="controls">
                        <label for="thresholdSlider">Threshold: <span class="threshold-value">0</span></label>
                        <input type="range" id="thresholdSlider" min="0" max="255" value="0">
                    </div>
                </div>
            </section>

            <section id="hashing" class="interactive-section">
                <h2>4. The Power of Pairing: Combinatorial Hashing</h2>
                
                <h3>4.1. Pairing Peaks to Create Hashes</h3>
                <p>Each detected peak (the anchor) is paired with one or more nearby peaks (the targets). By considering both the frequency values and the time difference between them, we create a unique hash.</p>
                
                <div class="callout-quote">
                    <p>"Combining two points increases the specificity of the fingerprint. It's like using both your first and last name for identification rather than just your first name—drastically reducing the chances of confusion."</p>
                </div>
            </section>

            <section id="matching">
                <h2>5. Finding the Match: Searching and Scoring</h2>
                
                <h3>5.1. Searching the Database</h3>
                <p>Each hash from your song is rapidly compared with a pre-computed database of hashes from millions of tracks. Because the hashes are compact and highly specific, this lookup is incredibly fast.</p>

                <h3>5.2. Time Alignment: Building the Offset Histogram</h3>
                <p>When a hash from your sample matches one in the database, the algorithm calculates the time offset between the two. If many hashes align with the same offset, that's a strong indication of a match.</p>
            </section>

            <section id="noise" class="interactive-section">
                <h2>6. Handling the Real World: Robustness to Noise and Distortion</h2>
                <p>A key strength of the Shazam algorithm is its ability to work even when the audio is less than perfect. Even if only a small percentage (1-2%) of the hashes survive through background noise or audio distortion, the matching process remains effective.</p>
                
                <div class="callout-quote">
                    <p>"The algorithm's robustness comes from its focus on relative relationships between strong peaks, which tend to survive even in noisy environments."</p>
                </div>
            </section>

            <section id="summary">
                <h2>7. Bringing It All Together</h2>
                <p>Let's recap the full journey of your song through Shazam's algorithm:</p>
                <ol>
                    <li><strong>Audio Capture:</strong> The audio is captured as a waveform—a record of air pressure changes over time.</li>
                    <li><strong>FFT & Spectrogram:</strong> The Fast Fourier Transform converts this waveform into a frequency spectrum, visualized as a spectrogram.</li>
                    <li><strong>Constellation Map:</strong> The algorithm extracts the most prominent peaks from the spectrogram to form a constellation map.</li>
                    <li><strong>Hashing:</strong> Pairs of peaks are combined into unique hash values that serve as digital fingerprints.</li>
                    <li><strong>Matching:</strong> These hashes are compared with a database, and time offsets are calculated to find matching clusters.</li>
                    <li><strong>Recognition:</strong> A significant peak in the offset histogram confirms the identity of the song.</li>
                </ol>
            </section>

            <section id="conclusion">
                <h2>Final Thoughts</h2>
                <p>The Shazam algorithm is a brilliant blend of digital signal processing, clever mathematical hashing, and efficient search techniques. By transforming a snippet of audio into a series of robust fingerprints, Shazam can accurately identify a song—even in the middle of a noisy crowd.</p>
                <p>Thank you for joining us on this detailed journey through Shazam's algorithm. We hope our interactive diagrams and in-depth explanations have given you a new appreciation for the science and ingenuity behind one of the world's most popular music identification services.</p>
                <p>Happy listening—and exploring!</p>
            </section>
        </article>
    </main>

    <footer class="footer mt-5 py-3 bg-light">
        <div class="container text-center">
            <p class="text-muted"> 2025 Shazam Algorithm Explorer</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="js/main.js" type="module"></script>
</body>
</html>
