<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Shazam Algorithm Explained</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="styles/main.css" rel="stylesheet">
    <script type="module" src="scripts/main.js"></script>
</head>
<body class="loading">
    <!-- Loading overlay -->
    <div class="loading-overlay">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p>Loading visualizations...</p>
    </div>

    <div id="floatingPlayback" class="floating-playback">
        <div id="floatingControls" class="floating-controls">
            <button id="playBtn" class="btn btn-primary btn-sm">
                <i class="fas fa-play"></i>
            </button>
            <div class="time-display">
                <span id="currentTime">0:00</span> / <span id="totalTime">0:00</span>
            </div>
            <div class="progress">
                <div id="progressBar" class="progress-bar" role="progressbar"></div>
            </div>
        </div>
    </div>
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">Shazam Algorithm</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#history">History</a></li>
                    <li class="nav-item"><a class="nav-link" href="#building-blocks">Building Blocks</a></li>
                    <li class="nav-item"><a class="nav-link" href="#constellation">Constellation</a></li>
                    <li class="nav-item"><a class="nav-link" href="#hashing">Hashing</a></li>
                    <li class="nav-item"><a class="nav-link" href="#matching">Matching</a></li>
                    <li class="nav-item"><a class="nav-link" href="#noise">Noise Handling</a></li>
                    <li class="nav-item"><a class="nav-link" href="#summary">Summary</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="container">
        <article class="blog-post">
            <h1>The Shazam Algorithm Explained</h1>
            
            <section id="intro">
                <p class="lead">Ever wondered how Shazam can magically identify any song playing around you in seconds? In this interactive guide, we'll uncover the clever engineering that makes this possible. You'll discover how Shazam transforms music into digital fingerprints and matches them against millions of songs faster than you can say "what's that song?"</p>
                <div class="callout-info">
                    <p><strong>Get hands-on:</strong> Don't just read‚Äîexperiment! Try the interactive visualizations to see the algorithm dissect and analyze songs in real-time.</p>
                </div>
            </section>

            <section id="history">
                <h2>1. The Birth of Shazam</h2>
                <p>Picture London, 1999. No smartphones, no music streaming, and definitely no way to identify that catchy song playing in the caf√©. This was the world where Shazam's founders saw an opportunity: what if your phone could listen to music and tell you what's playing?</p>
                <p>But this wasn't a simple problem. They needed to:</p>
                <ul>
                    <li>Identify songs from short, often noisy recordings</li>
                    <li>Search through millions of songs in milliseconds</li>
                    <li>Work with the limited processing power of early 2000s phones</li>
                </ul>
                <div class="callout-quote">
                    <p>"The genius of Shazam lies in how it turns the complex problem of audio recognition into a simple pattern matching game‚Äîone that even early 2000s phones could handle."</p>
                </div>
                <div class="fun-fact">
                    <p><strong>Mind-blowing fact:</strong> Today, Shazam can identify a song from a database of over 70 million tracks in under a second, even when the recording is mixed with crowd noise, played through tiny phone speakers, or compressed over a phone line!</p>
                </div>
            </section>

            <section id="building-blocks" class="interactive-section">
                <h2>2. From Sound to Numbers: The Building Blocks</h2>
                
                <h3>2.1. Sound Waves 101</h3>
                <p>Before we dive into Shazam's magic, let's understand what we're working with. Sound is just vibrating air‚Äîwhen a speaker plays music, it's pushing and pulling air molecules to create pressure waves that reach our ears.</p>
                
                <div class="visualization-container">
                    <div class="visualization-wrapper">
                        <canvas id="waveformCanvas"></canvas>
                    </div>
                </div>
                <div class="visualization-caption">
                    <p><strong>Try it out:</strong> Watch how the waveform changes as different parts of the song play. Notice how complex patterns emerge from simple air pressure changes!</p>
                </div>

                <h3>2.2. The Frequency Domain</h3>
                <p>While waveforms show us how sound pressure changes over time, they don't tell us much about the frequencies present in the sound. This is where the Fast Fourier Transform (FFT) comes in. The FFT breaks down our sound wave into its constituent frequencies, showing us exactly which musical notes are playing at any moment.</p>

                <h3>2.3. The Spectrogram: Music's Visual Fingerprint</h3>
                <p>When we line up many FFTs side by side, we create what's called a spectrogram‚Äîthink of it as a heat map where:</p>
                <ul>
                    <li>‚è±Ô∏è Left to right = Time passing</li>
                    <li>‚ÜïÔ∏è Bottom to top = Low to high frequencies</li>
                    <li>üé® Color brightness = How strong each frequency is</li>
                </ul>
                <div id="spectrogramContainer" class="visualization-container">
                    <canvas id="spectrogramCanvas"></canvas>
                </div>
                <div class="visualization-caption">
                    <p><strong>Try it out:</strong> Watch how different parts of the song create distinct patterns in the spectrogram. Lower frequencies (bass) appear at the bottom, while higher frequencies (treble) show up at the top.</p>
                </div>

                <div class="callout-technical">
                    <p><strong>Quick science:</strong> Every sound is made up of different frequencies mixed together. A piano note at middle C vibrates at 262 Hz (times per second), but it also creates higher harmonics that give it that distinct "piano sound". Our ears are amazing at separating these frequencies‚Äîand with some math magic called the Fast Fourier Transform (FFT), computers can do it too!</p>
                </div>

                <div class="callout-example">
                    <p><strong>Real-world parallel:</strong> Imagine you're trying to identify a cake recipe just by looking at the finished cake. The waveform is like looking at the whole cake, while the FFT is like listing out all the ingredients‚Äîmuch more useful for identification!</p>
                </div>
            </section>

            <section id="constellation" class="interactive-section">
                <h2>3. Creating the Star Map: The Constellation Pattern</h2>
                
                <h3>3.1. Finding Peak Points</h3>
                <p>The real magic of Shazam begins here. Instead of trying to match the entire spectrogram (which would be too slow), Shazam looks for "peak points" - spots that are brighter than their surrounding area. These become the stars in our musical constellation.</p>

                <div id="constellationContainer" class="visualization-container">
                    <canvas id="constellationCanvas"></canvas>
                </div>
                <div class="visualization-caption">
                    <p><strong>Interactive Demo:</strong> Watch as Shazam identifies peak points (shown as white dots) in the spectrogram. These points are chosen because they stand out from their surroundings and are likely to survive even if the audio is distorted.</p>
                </div>

                <h3>3.2. Creating Anchor Pairs</h3>
                <p>Once we have our peak points, Shazam creates "constellations" by connecting them in pairs. Each pair consists of:</p>
                <ul>
                    <li>üéØ An anchor point (shown in blue)</li>
                    <li>üîó A target point within a specific time and frequency range (shown in green)</li>
                    <li>‚è±Ô∏è The time difference between them</li>
                </ul>

                <div class="callout-technical">
                    <p><strong>Why pairs?</strong> Using pairs of points instead of single points makes the system more robust. Even if some points are lost due to noise, enough pairs usually survive to make a match. It's like having multiple witnesses to identify a song!</p>
                </div>

                <div class="callout-example">
                    <p><strong>Real-world parallel:</strong> Think of it like identifying a constellation in the night sky. You don't need to see every star‚Äîjust a few key patterns are enough to recognize Orion's Belt or the Big Dipper.</p>
                </div>
            </section>

            <section id="hashing" class="interactive-section">
                <h2>4. Creating the Fingerprint: Combinatorial Hashing</h2>
                
                <h3>4.1. Connecting the Stars</h3>
                <p>Having a bunch of bright points isn't enough‚Äîwe need a way to remember how they're arranged. This is where Shazam's genius really shines. Instead of trying to remember every point, it creates "constellations" by:</p>
                <ol>
                    <li>Picking an "anchor" point</li>
                    <li>Looking at nearby points within a "target zone"</li>
                    <li>Creating pairs between the anchor and each target point</li>
                    <li>Recording the frequency of both points and the time between them</li>
                </ol>

                <div class="visualization-container">
                    <h3>Constellation Builder</h3>
                    <p>Watch how Shazam connects the dots to create unique patterns:</p>
                    <div class="visualization-wrapper">
                        <canvas data-type="constellation" class="visualization-canvas"></canvas>
                    </div>
                    <div class="controls">
                        <button id="nextAnchorBtn" class="btn btn-primary">Next Anchor Point</button>
                        <p class="control-tip">üîç Click to see how different anchor points create different patterns</p>
                    </div>
                </div>

                <div class="callout-example">
                    <p><strong>Think of it like this:</strong> If the spectrogram peaks are stars, Shazam is creating constellations by drawing lines between them. Just like how you can recognize Orion's Belt from just three stars in a line, Shazam can recognize a song from just a few connected peaks!</p>
                </div>

                <h3>4.2. The Magic Numbers</h3>
                <p>Each pair of points gets turned into a compact "hash"‚Äîa single number that captures:</p>
                <ul>
                    <li>üéµ Frequency of the anchor point</li>
                    <li>üéµ Frequency of the target point</li>
                    <li>‚è±Ô∏è Time difference between them</li>
                </ul>

                <div class="callout-technical">
                    <p><strong>Optimization alert:</strong> These hashes are incredibly compact‚Äîjust 32 bits each. This was crucial for the original Shazam service in 2002, when both storage and bandwidth were expensive. Even today, this efficiency is what allows Shazam to match songs in milliseconds!</p>
                </div>

                <div class="fun-fact">
                    <p><strong>Mind = Blown:</strong> This simple pairing system is what makes Shazam so robust. Even if 90% of the points are lost to noise, as long as both points in any pair survive, that piece of the constellation can still be matched!</p>
                </div>
            </section>

            <section id="matching" class="interactive-section">
                <h2>5. The Search: Finding Matches at Lightning Speed</h2>
                
                <h3>5.1. The Needle in the Haystack Problem</h3>
                <p>Now comes the really tricky part: how do you match a 10-second clip against millions of songs‚Äîand do it in milliseconds? Shazam's approach is brilliant in its simplicity:</p>
                <ol>
                    <li>Take each hash from your sample</li>
                    <li>Look for matching hashes in the database</li>
                    <li>When you find a match, record the time difference</li>
                    <li>Look for clusters of matches with the same time difference</li>
                </ol>

                <div class="visualization-container">
                    <h3>Match Detective</h3>
                    <p>Watch the matching process in action:</p>
                    <div class="visualization-wrapper">
                        <canvas data-type="matching" class="visualization-canvas"></canvas>
                    </div>
                    <div class="controls">
                        <button id="nextMatchBtn" class="btn btn-primary">Next Match</button>
                        <p class="control-tip">üïµÔ∏è Click to see how matches accumulate to identify the song</p>
                    </div>
                </div>

                <h3>5.2. Time Alignment: The Key to Accuracy</h3>
                <p>Here's the clever bit: if you've found the right song, all the matching hashes will have the same time offset between your sample and the original song. It's like sliding your sample along the original until all the constellations line up perfectly!</p>

                <div class="callout-example">
                    <p><strong>Real-world parallel:</strong> It's like trying to find where a torn piece of paper came from‚Äîwhen you find the right spot, all the edges line up perfectly. In Shazam's case, when you find the right song, all the time offsets line up!</p>
                </div>

                <div class="callout-technical">
                    <p><strong>Speed secret:</strong> Instead of comparing your sample against each song one by one (which would take forever), Shazam uses a clever database structure that can find all matching hashes instantly, regardless of which song they're from. It's like having a magical index that can instantly find any word in a library of books!</p>
                </div>
            </section>

            <section id="noise" class="interactive-section">
                <h2>6. Handling the Real World: Why Shazam Works in Noisy Places</h2>
                
                <h3>6.1. The Cocktail Party Problem</h3>
                <p>Ever wondered why Shazam can identify a song playing in a noisy bar? The algorithm is designed to be incredibly resilient to real-world conditions:</p>
                <ul>
                    <li>üó£Ô∏è Background chatter</li>
                    <li>üì± Phone microphone quality</li>
                    <li>üì∂ Audio compression</li>
                    <li>üîä Speaker distortion</li>
                </ul>

                <div class="visualization-container">
                    <h3>Noise Survivor</h3>
                    <p>See how the constellation pattern survives different types of noise:</p>
                    <div class="visualization-wrapper">
                        <canvas data-type="noise" class="visualization-canvas"></canvas>
                    </div>
                    <div class="controls">
                        <select id="noiseType" class="form-select">
                            <option value="none">Clean Audio</option>
                            <option value="white">Background Noise</option>
                            <option value="voice">Voice Over</option>
                            <option value="compress">GSM Compression</option>
                        </select>
                        <input type="range" id="noiseLevel" min="0" max="100" value="0">
                        <p class="control-tip">üîä Try different noise types and levels to see how the algorithm adapts</p>
                    </div>
                </div>

                <h3>6.2. Why It Works</h3>
                <p>Shazam's robustness comes from multiple clever design decisions:</p>
                <ul>
                    <li>‚ú® Using only the strongest peaks (they survive noise better)</li>
                    <li>üéØ Creating multiple hashes (only some need to survive)</li>
                    <li>üßÆ Time-relative matching (tempo changes don't matter)</li>
                    <li>üìä Statistical scoring (a few wrong matches don't hurt)</li>
                </ul>

                <div class="callout-technical">
                    <p><strong>The numbers:</strong> Even if only 1-2% of your original hashes survive the noise, that's often enough for a match! From a 10-second clip, Shazam might generate 1000+ hashes‚Äîso even 10-20 surviving matches can be enough to identify the song with high confidence.</p>
                </div>

                <div class="fun-fact">
                    <p><strong>Superhuman ability:</strong> Shazam can even identify multiple songs playing at once! Just like how you can focus on one conversation at a party, Shazam can pick out individual songs from a mix‚Äîsometimes better than human ears!</p>
                </div>
            </section>

            <section id="summary">
                <h2>7. Putting It All Together</h2>
                <p>And there you have it! Shazam's algorithm is a beautiful example of turning a complex problem into a series of clever, simple steps:</p>
                <ol>
                    <li>üìä Convert audio to a spectrogram (FFT)</li>
                    <li>‚≠ê Find the brightest points (peaks)</li>
                    <li>üåü Create constellations (pair points)</li>
                    <li>üî¢ Generate hashes (fingerprints)</li>
                    <li>üîç Search for matches (database lookup)</li>
                    <li>‚úÖ Verify alignment (time offset clustering)</li>
                </ol>

                <div class="callout-quote">
                    <p>"The best algorithms are often the ones that find a simple way to solve a complex problem. Shazam's genius lies not in using cutting-edge AI or complex math, but in reducing audio recognition to a straightforward pattern matching problem that even a 2002 phone could solve quickly."</p>
                </div>

                <p class="lead">Now that you understand how it works, try the interactive demos above with different songs and noise levels. It's amazing how such a seemingly simple approach can be so powerful in practice!</p>
            </section>
        </article>
    </main>

    <footer class="footer mt-5 py-3 bg-light">
        <div class="container text-center">
            <p class="text-muted"> 2025 Shazam Algorithm Explorer</p>
        </div>
    </footer>

    <!-- Third-party libraries -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/your-font-awesome-kit.js"></script>
    
</body>
</html>
